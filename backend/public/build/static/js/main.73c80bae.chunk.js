(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,n){e.exports=n(72)},72:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(37),o=n.n(r),l=n(14),i=n(15);function u(){var e=Object(l.a)(['\n  border-color: crimson;\n  background-color: white;\n  font-size: 1rem;\n  font-family: "Libre Caslon Text";\n  border-radius: 5%;\n  width: 15vw;\n  height: 12;\n']);return u=function(){return e},e}function s(){var e=Object(l.a)(["\n  width: 70vw;\n  height: 45vh;\n  display: flex;\n  justify-content: center;\n  border-radius: 2%;\n  text-align: center;\n"]);return s=function(){return e},e}function m(){var e=Object(l.a)(["\n  background-color: beige;\n  border-color: gold;\n  border-style: solid;\n  border-radius: 8%;\n  display: flex;\n\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 40vw;\n  height: 32vh;\n  margin-left: 40%;\n\n  input {\n    margin: 1%;\n    border: none;\n\n    text-align: center;\n    width: 30vw;\n    height: 3vh;\n  }\n  button {\n    margin-top: 8%;\n  }\n"]);return m=function(){return e},e}function d(){var e=Object(l.a)(['\n  width: 100vw;\n  height: 8vh;\n  background-color: crimson;\n\n  display: flex;\n  justify-content: space-evenly;\n  border-top-color: crimson;\n  border-bottom-width: 5px;\n  border-bottom-color: gold;\n  border-style: solid;\n\n  a {\n    font-family: "Cinzel Decorative", cursive;\n    font-size: 1.5rem;\n    text-decoration: none;\n    color: white;\n  }\n']);return d=function(){return e},e}function p(){var e=Object(l.a)(["\n  body{\n    margin: 0;\n    font-family:'Libre Caslon Text';\n    background-color:  #fffff7;\n   \n  }\n  .background{\n    margin: 0 25%;\n   \n    width: 50vw;\n\n  \n}\n\nimg {\n  /* border-radius: 3%;\n  width: 45vw;\n  height: 42vh; */\n  width: 30vw;\n  \n  \n}\n\n\n"]);return p=function(){return e},e}var h=Object(i.a)(p()),g=i.b.nav(d()),f=i.b.form(m()),E=i.b.div(s()),b=i.b.button(u());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(2),j=n(11);var O=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Welcome"),c.a.createElement(E,null,c.a.createElement(v.b,{to:"/sixcards"},c.a.createElement("img",{src:"../pics/download.jpeg",alt:"sixcards"}),c.a.createElement("p",null,"Six Card spread"))),c.a.createElement(E,null,c.a.createElement(v.b,{to:"onecard"},c.a.createElement("img",{src:"../pics/fortune.jpg",alt:"onecard"}),c.a.createElement("p",null,"Daily reading"))),c.a.createElement(E,null,c.a.createElement(v.b,{to:"threecards"},c.a.createElement("img",{src:"../pics/threecards.jpeg",alt:"threecards"}),c.a.createElement("p",null,"Present, past and future"))))},y=n(17),w=n(18),x=n(5),S=n.n(x),k="https ://fideliuss-app.herokuapp.com/",C=function(){function e(){Object(y.a)(this,e),this.service=S.a.create({baseURL:k,withCredentials:!0})}return Object(w.a)(e,[{key:"signup",value:function(e){return this.service.post("/auth/signup",e)}},{key:"login",value:function(e){return this.service.post("/auth/login",e)}},{key:"logout",value:function(){return this.service.get("/auth/logout")}},{key:"profile",value:function(){return this.service.get("/auth/profile")}}]),e}();var L=function(){var e=new C;return c.a.createElement("div",null,c.a.createElement(g,null,c.a.createElement(v.c,{to:"/signup"},"SIGN UP"),"|",c.a.createElement(v.c,{to:"/login"},"LOG IN"),"|",c.a.createElement(v.c,{to:"/profile"},"PROFILE"),"|",c.a.createElement(v.c,{to:"/"},"Home"),"|",c.a.createElement(v.c,{to:"/",onClick:function(){e.logout().then(function(e){console.log(e.data.msg)}).catch(function(e){console.log(e)})}},"LOG OUT")))},I=n(1),P=function(e){var t=Object(a.useState)([]),n=Object(I.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)([]),i=Object(I.a)(l,2),u=i[0],s=i[1];return Object(a.useEffect)(function(){(new C).profile().then(function(e){var t=e.data.user;o(t),console.log(t);var n=e.data.user.readings;s(n)}).catch(function(e){401===e.res&&console.log(e.res)})},[]),c.a.createElement("div",null,c.a.createElement("h2",null,"Hello ",r.name," "),c.a.createElement("h3",null,"Your readings "),u.map(function(e){return c.a.createElement("div",{key:e._id},c.a.createElement("ul",null,c.a.createElement("li",null,e.name),c.a.createElement(v.b,{to:"/savedreading"},c.a.createElement(b,null,"See your reading "))))}))},A=n(19),N=n(10),R=function(){var e=Object(a.useState)({}),t=Object(I.a)(e,2),n=t[0],c=t[1];return[n,function(e){e.persist(),c(function(t){return Object(N.a)({},t,Object(A.a)({},e.target.name,e.target.value))})}]},B=n(43),D=n(42),T=n(44),U=Object(a.createContext)(),_=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(B.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={place:"Home",isAdmin:!1,isLogged:!1,user:null},n.changePlace=function(e){n.setState({place:e})},n.changeIsAdmin=function(e){n.setState({isAdmin:e})},n.changeIsLogged=function(e){n.setState({isLogged:e})},n.login=function(e){return n.setState({user:e})},n.logout=function(){return n.setState({user:null})},n}return Object(T.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.changePlace,t=this.changeIsAdmin,n=this.changeIsLogged,a=this.state,r=this.login,o=this.logout;return c.a.createElement(U.Provider,{value:{state:a,changePlace:e,changeIsAdmin:t,changeIsLogged:n,login:r,logout:o}},this.props.children)}}]),t}(a.Component),J=Object(j.f)(function(e){var t=Object(a.useContext)(U),n=t.changeIsLogged,r=t.changePlace,o=t.changeIsAdmin,l=t.login,i=new C,u=R(),s=Object(I.a)(u,2),m=s[0],d=s[1];Object(a.useEffect)(function(){r("auth")},[r]);return c.a.createElement("div",{className:"auth"},c.a.createElement("h2",null,"Login"),c.a.createElement("input",{type:"text",name:"email",placeholder:"your e-mail",onChange:d})," ",c.a.createElement("br",null),c.a.createElement("input",{type:"password",name:"password",placeholder:"your password",onChange:d})," ",c.a.createElement("br",null),c.a.createElement(b,{className:"button",onClick:function(){i.login(m).then(function(t){"ADMIN"===t.data.user.role&&o(!0),n(!0),l(t.data.user),localStorage.setItem("USER",JSON.stringify(t.data.user)),e.history.push("/profile")}).catch(function(e){console.log(e)})}},"Login")," ",c.a.createElement("br",null),c.a.createElement("p",null,"Don't have an account yet? ",c.a.createElement(v.b,{to:"/signup"},"Register here")))}),Y=Object(j.f)(function(e){var t=Object(a.useContext)(U),n=t.changeIsLogged,r=t.changePlace,o=new C,l=R(),i=Object(I.a)(l,2),u=i[0],s=i[1];Object(a.useEffect)(function(){r("auth")},[r]);return c.a.createElement("div",{className:"auth"},c.a.createElement("h2",null,"Signup"),c.a.createElement(f,null,c.a.createElement("input",{type:"text",name:"name",placeholder:"Name",onChange:function(e){return s(e)}}),c.a.createElement("input",{type:"email",name:"email",placeholder:"e-mail",onChange:function(e){return s(e)}}),c.a.createElement("input",{type:"password",name:"password",placeholder:"password",onChange:function(e){return s(e)}}),c.a.createElement(b,{onClick:function(){o.signup(u).then(function(t){n(!0),localStorage.setItem("USER",JSON.stringify(t.data.user)),e.history.push("/profile")}).catch(function(e){console.log(e)})}},"Sign up")))}),z=n(9),G=Object(j.f)(function(e){var t=Object(a.useState)([]),n=Object(I.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)({}),i=Object(I.a)(l,2),u=i[0],s=i[1],m=R(),d=Object(I.a)(m,2),p=d[0],h=d[1],g="https://fideliuss-app.herokuapp.com";Object(a.useEffect)(function(){S.a.get("".concat(g,"/cards/random?n=6")).then(function(e){var t=e.data;o(function(e){return[].concat(Object(z.a)(e),Object(z.a)(t.cards))})}).catch(function(e){console.log(e,"iiuiu")}),(new C).profile().then(function(e){var t=e.data.user;s(t)})},[g]);return c.a.createElement("div",null,c.a.createElement("h1",null,"Six Cards Spread"),r.map(function(e,t){return c.a.createElement("div",{key:t},e?c.a.createElement("div",{key:t},c.a.createElement("p",null,e.name),c.a.createElement("img",{src:e.img,alt:"card"}),c.a.createElement("p",null,e.meaning_up),c.a.createElement("p",null,e.desc)):c.a.createElement("p",null,"Loading"))}),c.a.createElement(f,{onSubmit:function(){S.a.post("".concat(g,"/savereading"),Object(N.a)({},p,{cards:r,user:u})).then(function(t){return t.data.name,e.history.push("/profile")}).catch(function(e){console.log(e)})}},c.a.createElement("input",{type:"text",name:"name",placeholder:"name your reading",onChange:function(e){return h(e)}}),c.a.createElement(b,null,"Save Reading")))});var H=function(){var e=Object(a.useState)([]),t=Object(I.a)(e,2),n=t[0],r=t[1],o=R(),l=Object(I.a)(o,2),i=l[0],u=l[1],s="https://fideliuss-app.herokuapp.com";return Object(a.useEffect)(function(){S.a.get("".concat(s,"/cards/random?n=1")).then(function(e){var t=e.data;r(function(e){return[].concat(Object(z.a)(e),Object(z.a)(t.cards))})}).catch(function(e){console.log(e)})},[s]),c.a.createElement("div",null,c.a.createElement("h1",null,"Your Today Card"),n.map(function(e,t){return c.a.createElement("div",{key:t},e?c.a.createElement("div",{key:t},c.a.createElement("p",null,e.name),c.a.createElement("img",{src:e.img,alt:"card"}),c.a.createElement("p",null,e.meaning_up),c.a.createElement("p",null,e.desc)):c.a.createElement("p",null,"Loading"))}),c.a.createElement(f,{onSubmit:function(){S.a.post("".concat(s,"/savereading"),Object(N.a)({},i,{cards:n})).then(function(e){var t=e.data;return console.log("data",t),t.name,t.user}).catch(function(e){console.log(e)})}},c.a.createElement("input",{type:"text",name:"name",placeholder:"name your reading",onChange:function(e){return u(e)}}),c.a.createElement("button",null,"Save Reading")))};var W=function(){var e=Object(a.useState)([]),t=Object(I.a)(e,2),n=t[0],r=t[1],o=R(),l=Object(I.a)(o,2),i=l[0],u=l[1],s="https://fideliuss-app.herokuapp.com";return Object(a.useEffect)(function(){S.a.get("".concat(s,"/cards/random?n=3")).then(function(e){var t=e.data;r(function(e){return[].concat(Object(z.a)(e),Object(z.a)(t.cards))})}).catch(function(e){console.log(e)})},[s]),c.a.createElement("div",null,c.a.createElement("h1",null,"Present, past and future"),n.map(function(e,t){return c.a.createElement("div",{key:t},e?c.a.createElement("div",{key:t},c.a.createElement("p",null,e.name),c.a.createElement("img",{src:e.img,alt:"card"}),c.a.createElement("p",null,e.meaning_up),c.a.createElement("p",null,e.desc)):c.a.createElement("p",null,"Loading"))}),c.a.createElement(f,{onSubmit:function(){S.a.post("".concat(s,"/savereading"),Object(N.a)({},i,{cards:n})).then(function(e){var t=e.data;return console.log("data",t),t.name,t.user}).catch(function(e){console.log(e)})}},c.a.createElement("input",{type:"text",name:"name",placeholder:"name your reading",onChange:function(e){return u(e)}}),c.a.createElement("button",null,"Save Reading")))},F=n(25),M=n.n(F);var $=Object(j.f)(function(e){var t=Object(a.useState)([]),n=Object(I.a)(t,2),r=(n[0],n[1]),o=Object(a.useState)([]),l=Object(I.a)(o,2),i=(l[0],l[1]),u=Object(a.useState)([]),s=Object(I.a)(u,2),m=s[0],d=s[1];return e.match.params.id,Object(a.useEffect)(function(){(new C).profile().then(function(e){var t=e.data.user;r(t);var n=e.data.user.readings[0];i(n);var a=n.cards;d(a),console.log(a)})},["https://fideliuss-app.herokuapp.com"]),c.a.createElement("div",null,m.map(function(e,t){return c.a.createElement("div",{key:t},e?c.a.createElement("div",{key:t},c.a.createElement("p",null,e.name),c.a.createElement("img",{src:e.img,alt:"card"}),c.a.createElement("p",null,e.meaning_up),c.a.createElement("p",null,e.desc)):c.a.createElement("p",null,"Loading"))}),c.a.createElement(v.b,{to:"/profile"},c.a.createElement(b,{onClick:function(){M.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(t){t.value&&S.a.delete("http:localhost:3000/reading/".concat(e.match.params.id)).then(function(e){var t=e.data;M.a.fire("Deleted!",t.msg,"success")}).catch(function(e){console.log(e)})})}},"Delete")))}),q=function(){return c.a.createElement(v.a,null,c.a.createElement(L,null),c.a.createElement(j.c,null,c.a.createElement(j.a,{exact:!0,path:"/",component:O}),c.a.createElement(j.a,{exact:!0,path:"/signup",component:Y}),c.a.createElement(j.a,{exact:!0,path:"/login",component:J}),c.a.createElement(j.a,{exact:!0,path:"/profile",component:P}),c.a.createElement(j.a,{exact:!0,path:"/logout"}),c.a.createElement(j.a,{exact:!0,path:"/onecard",component:H}),c.a.createElement(j.a,{exact:!0,path:"/sixcards",component:G}),c.a.createElement(j.a,{exact:!0,path:"/threecards",component:W}),c.a.createElement(j.a,{exact:!0,path:"/savedReading",component:$})))};o.a.render(c.a.createElement(_,null,c.a.createElement(h,null),c.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.73c80bae.chunk.js.map